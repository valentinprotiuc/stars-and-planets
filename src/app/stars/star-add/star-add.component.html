<h2>Neuen Stern hinzufügen</h2>

<form class="padding-bottom" [formGroup]="newStarForm" (ngSubmit)="onSubmit()">
  <div class="md-form">
    <input type="text" class="form-control" formControlName="starName" id="starName" minLength="2" maxLength="50"
           mdbInput mdbValidate>
    <label for="starName">Name des Sterns: <strong style="color: red">*</strong></label>
    <mdb-error *ngIf="starName.invalid && (starName.dirty || starName.touched)">Ungültige Eingabe.
    </mdb-error>
  </div>
  <div class="form-row">
    <div class="md-form col">
      <input type="text" class="form-control" formControlName="spectralType" id="spectralType" minLength="1"
             maxLength="50" mdbInput mdbValidate>
      <label for="spectralType">Spektraltyp:</label>
      <mdb-error *ngIf="spectralType.invalid && (spectralType.dirty || spectralType.touched)">Ungültige Eingabe.
      </mdb-error>
    </div>
    <div class="md-form col">
      <input type="text" class="form-control" formControlName="distance" id="distance" minLength="1" maxLength="50"
             mdbInput mdbValidate>
      <label for="distance">
        Entfernung zur Erde: <em class="comment-light" mdbTooltip="Lichtjahr" placement="top">(Lj)</em>
      </label>
      <mdb-error *ngIf="distance.invalid && (distance.dirty || distance.touched)">Ungültige Eingabe. Geben Sie bitte eine Zahl ein.
      </mdb-error>
    </div>
  </div>
  <div class="form-row">
    <div class="md-form col">
      <input type="text" class="form-control" formControlName="solarMass" id="solarMass" minLength="1" maxLength="50"
             mdbInput mdbValidate>
      <label for="solarMass">Masse:
        <em class="comment-light" mdbTooltip="Sonnenmasse" placement="top">(M☉)</em>
      </label>
      <mdb-error *ngIf="solarMass.invalid && (solarMass.dirty || solarMass.touched)">Ungültige Eingabe. Geben Sie bitte eine Zahl ein.
      </mdb-error>
    </div>
    <div class="md-form col">
      <input type="text" class="form-control" formControlName="solarRadius" id="solarRadius" minLength="1"
             maxLength="50"
             mdbInput mdbValidate>
      <label for="solarRadius">Radius:
        <em class="comment-light" mdbTooltip="Sonnenradius" placement="top">(R☉)</em>
      </label>
      <mdb-error *ngIf="solarRadius.invalid && (solarRadius.dirty || solarRadius.touched)">Ungültige Eingabe. Geben Sie bitte eine Zahl ein.
      </mdb-error>
    </div>
    <div class="md-form col">
      <input type="text" class="form-control" formControlName="effectiveTemperature" id="effectiveTemperature"
             minLength="1" maxLength="50" mdbInput mdbValidate>
      <label for="effectiveTemperature">Effektive Temperatur:
        <em class="comment-light" mdbTooltip="Kelvin" placement="top">(K)</em>
      </label>
      <mdb-error *ngIf="effectiveTemperature.invalid && (effectiveTemperature.dirty || effectiveTemperature.touched)">
        Ungültige Eingabe. Geben Sie bitte eine Zahl ein.
      </mdb-error>
    </div>
  </div>
  <hr>
  <div class="planetForm" formArrayName="planets">
    <div><h5 class="inline-header">Umkreisende Planeten:</h5>
      <span><button type="button" class="btn btn-primary btn-sm" (click)="onAddNewPlanet()"> Neu + </button></span>
    </div>
    <div class="card" *ngFor="let planetFormGroup of formArray.controls; let i = index"
         [formGroupName]="i">
      <div class="card-body">
        <div class="md-form">
          <input type="text" class="form-control" formControlName="planetName" id="planetName">
          <label for="planetName">Name des Planeten: <strong style="color: red">*</strong></label>
        </div>
        <div class="form-row">
          <div class="md-form col">
            <input type="text" class="form-control" formControlName="planetClass" id="planetClass">
            <label for="planetClass" mdbTooltip="PHL-Klassifikation" placement="top">Planetenklasse:</label>
          </div>
          <div class="md-form col">
            <input type="text" class="form-control" formControlName="planetPeriod" id="planetPeriod">
            <label for="planetPeriod">Umlaufzeit:
              <em class="comment-light" mdbTooltip="Tage" placement="top">(T)</em>
            </label>
          </div>
        </div>
        <div class="form-row">
          <div class="md-form col">
            <input type="text" class="form-control" formControlName="planetMass" id="planetMass">
            <label for="planetMass">Masse:
              <em class="comment-light" mdbTooltip="Erdmasse" placement="top">(M⊕)</em>
            </label>
          </div>
          <div class="md-form col">
            <input type="text" class="form-control" formControlName="planetRadius" id="planetRadius">
            <label for="planetRadius">Radius:
              <em class="comment-light" mdbTooltip="Erdradius" placement="top">(R⊕)</em>
            </label>
          </div>
        </div>
        <div class="form-row">
          <div class="md-form col">
            <input type="text" class="form-control" formControlName="planetDistance" id="planetDistance">
            <label for="planetDistance">Entfernung:
              <em class="comment-light" mdbTooltip="Lichtjahr" placement="top">(Lj)</em>
            </label>
          </div>
          <div class="md-form col">
            <input type="text" class="form-control" formControlName="planetESI" id="planetESI">
            <label for="planetESI">Erdähnlichkeitsindex:
              <em class="comment-light" mdbTooltip="Earth Similarity Index von PHL" placement="top">(ESI)</em>
            </label>
          </div>
        </div>
        <button class="btn btn-danger" type="button" (click)="removePlanetForm(planetFormGroup)">Entfernen</button>
      </div>
    </div>
  </div>
  <hr>
  <span class="help-block"><strong style="color: red">*</strong> Pflichtfeld</span>
  <div class="btn-group float-right">
    <button class="btn btn-primary" type="submit" [disabled]="!newStarForm.valid">Speichern</button>
    <button class="btn btn-secondary" type="button" (click)="onCancel()">Verwerfen</button>
  </div>
</form>

